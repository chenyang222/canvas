<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title></title>
		
		<style type="text/css">
			#myCanvas{
				border: 1px solid #000;
				background: #ffffff;
			}
			html,body{
				padding: 0;
				margin: 0;
				background: #000000;
			}
		</style>
	</head>
	<body>
		<!--
			图片的使用
				canvas更有意思的一项特性就是图像操作能力。可以用于动态的图像合成或者作为图形的背景，以及游戏界面（Sprites）等等。浏览器支持的任意格式的外部图片都可以使用，比如PNG、GIF或者JPEG。 你甚至可以将同一个页面中其他canvas元素生成的图片作为图片源。
				
				引入图像到canvas里需要以下两步基本操作：
				
				获得一个指向HTMLImageElement的对象或者另一个canvas元素的引用作为源，也可以通过提供一个URL的方式来使用图片（参见例子）
				使用drawImage()函数将图片绘制到画布上
	
				canvas的API可以使用下面这些类型中的一种作为图片的源：
				
				HTMLImageElement
				这些图片是由Image()函数构造出来的，或者任何的<img>元素
				HTMLVideoElement
				用一个HTML的 <video>元素作为你的图片源，可以从视频中抓取当前帧作为一个图像
				HTMLCanvasElement
				可以使用另一个 <canvas> 元素作为你的图片源。
				ImageBitmap
				这是一个高性能的位图，可以低延迟地绘制，它可以从上述的所有源以及其它几种源中生成。
				
				
				
				通过 data: url 方式嵌入图像
					
					我们还可以通过 data:url 方式来引用图像。Data urls 允许用一串 Base64 编码的字符串的方式来定义一个图片。
					
					img.src = 'data:image/gif;base64,R0lGODlhCwALAIAAAAAA3pn/ZiH5BAEAAAEALAAAAAALAAsAAAIUhA+hkcuO4lmNVindo7qyrIXiGBYAOw==';
					其优点就是图片内容即时可用，无须再到服务器兜一圈。（还有一个优点是，可以将 CSS，JavaScript，HTML 和 图片全部封装在一起，迁移起来十分方便。）缺点就是图像没法缓存，图片大的话内嵌的 url 数据会相当的长：
				使用视频帧
				
					你还可以使用<video> 中的视频帧（即便视频是不可见的）。例如，如果你有一个ID为“myvideo”的<video> 元素，你可以这样做：
					
					function getMyVideo() {
					  var canvas = document.getElementById('canvas');
					  if (canvas.getContext) {
					    var ctx = canvas.getContext('2d');
					
					    return document.getElementById('myvideo');
					  }
					}
			
				一旦获得了源图对象，我们就可以使用 drawImage 方法将它渲染到 canvas 里。drawImage 方法有三种形态，下面是最基础的一种。
				
				drawImage(image, x, y)
					
					其中 image 是 image 或者 canvas 对象，x 和 y 是其在目标 canvas 里的起始坐标。
					SVG图像必须在 <svg> 根指定元素的宽度和高度。	
						
				缩放 Scaling
					drawImage 方法的又一变种是增加了两个用于控制图像在 canvas 中缩放的参数。
					
					drawImage(image, x, y, width, height)
					这个方法多了2个参数：width 和 height，这两个参数用来控制 当像canvas画入时应该缩放的大小		
				
				切片 Slicing	
					drawImage(image, sx, sy, sWidth, sHeight, dx, dy, dWidth, dHeight)
					第一个参数和其它的是相同的，都是一个图像或者另一个 canvas 的引用。其它8个参数最好是参照右边的图解，前4个是定义图像源的切片位置和大小，后4个则是定义切片的目标显示位置和大小。					
		-->
		
		<canvas id="myCanvas" width="400" height="400"></canvas>
		
		<script type="text/javascript">
			
			const myCanvas = document.getElementById('myCanvas');
			
			
			//获取上下文的渲染和绘画功能
//			let ctx = myCanvas.getContext('2d');
			//检测浏览器兼容性的方法
			if(myCanvas.getContext){
				
				const ctx = myCanvas.getContext('2d');
				
				console.log('you can use canvas');
				//绘画函数
				demo(ctx);
			}else{
				console.log('you can\nt use canvas');
			}
			
			function demo(ctx){
				
				var img = new Image();
				img.src = 'img/1.jpg';
				img.onload = function(){
					
					ctx.drawImage(img,0,0,100,100);
					
					ctx.drawImage(img,150,150,200,200,160,160,150,150);
					
				}
			}
			
			
		</script>
	</body>
</html>
